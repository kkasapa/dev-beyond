<aura:component implements="lightning:isUrlAddressable,flexipage:availableForAllPageTypes,force:lightningQuickAction,force:hasRecordId" access="global" controller = "ProposalController">
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />  
    <aura:attribute name="payment" type="nu_dse__Payment__c" default="{ 'sobjectType' : 'nu_dse__Payment__c' }"/>
    <aura:attribute name="fieldName" type="String" default= "nu_dse__Transaction_Method__c" access="global" />
    <aura:attribute name="ofFields" type="nu_dse__Offer__c" default="{ 'sobjectType' : 'nu_dse__Offer__c' }"/>
    <aura:attribute name="sObjectName" type="String" default= "nu_dse__Payment__c" access="global"/>
    <aura:attribute name="sObjectList" type="nu_dse__Program__c" />    
    <aura:attribute name="myObjects" type="object"/> 
    <aura:attribute name="prmObject" type="object"/> 
    <aura:attribute name="program" type="nu_dse__Program__c"/>
    
    <aura:attribute name="boolean" type="boolean" default="false"/>   
    
    <aura:attribute name="pgmId" type="String"/>
    <aura:attribute name="parameters" type="String"/>
    <aura:attribute name="recordId" type="String"/>
    <aura:attribute name="tradelinesList" type="String"/>
    <aura:attribute name="ofMap" type="String"/>   
    <aura:attribute name="picklistValues" access="public" type="String[]"/> 
    <aura:attribute name="Creditor" type="String"/>
    
    
    
    
   <div class="slds-size_4-of-4">
    <div class="slds-box slds-box_x-small slds-text-align_left slds-m-around_x-small">Tradline 12345</div>
  </div>
    <div class="slds-grid slds-wrap">
    <div class="slds-size_2-of-4">
    <div class="slds-box slds-box_x-small slds-text-align_center slds-m-around_x-small">Search</div>
  </div>
    <div class="slds-size_1-of-4">
    <div class="slds-box slds-box_x-small slds-text-align_center slds-m-around_x-small">Save Data</div>
  </div>
  <div class="slds-size_1-of-4">
    <div class="slds-box slds-box_x-small slds-text-align_center slds-m-around_x-small">Next Tradeline>></div>
  </div>
    </div>
    
 <!--  <c:Search />-->
    <table>
        <tr>
            <td>
                <img src="{!$Resource.User_Image}" />
                
           <div class="slds-m-horizontal--large">  <ul>
                    <li>{!v.prmObject.AccountName} </li>
                    <li>SSN: {!v.prmObject.SSN}</li>
                    
                </ul>  
                </div>
                <br></br>
                <div class="slds-m-horizontal--large">
                <ul>
                    <li>Email: {!v.prmObject.Email}</li>
                    <li>Addreess: {!v.prmObject.Address}</li>
                    <li>City: {!v.prmObject.City} &nbsp; State:{!v.prmObject.State }  &nbsp; Zip: {!v.prmObject.ZipCode} </li>
                </ul> 
                </div>
                <br></br>
                <div class="slds-m-horizontal--large">
                Phone:  {!v.prmObject.Cell_Phone__c}
                 </div>  
            </td>
            <td>
                <div class="slds-align_absolute-center" style="height:5rem">
                <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-border_left slds-border_right"  >
                    
                    <tr>
                        <th>
                            Enrollment Date
                        </th>
                    </tr>
                    <tr>
                        <th>
                            Total Active Debt 
                        </th>
                    </tr>
                    <tr>
                        <th>
                            Available Funds This Month 
                        </th>
                    </tr>
                    
                    
                </table>
                </div>
            </td>
        </tr>
    </table>
    
              <!--section header-->
   
    <!--section header--> 
     <div class="slds-size_4-of-4">
     <lightning:tabset variant="scoped">
        <lightning:tab label="Program" id="one">
           Program Details
        </lightning:tab>
        <lightning:tab label="Client Detail" id="two">
            Client Details !
        </lightning:tab>
        <lightning:tab label="Hardship" id="three">
            Hardship Details !
        </lightning:tab>
         <lightning:tab label="Budget" id="three">
            Budget Details !
        </lightning:tab>
         <lightning:tab label="Attachments" id="three">
            Attachments  !
        </lightning:tab>
         <lightning:tab label="Credit Reports" id="three">
            Credit Reports !
        </lightning:tab>
    </lightning:tabset>
    </div>
                <!-- Offer Section -->
                <div class="slds-section slds-is-open" aura:id="colorSection">
                    <!-- Section -->
                    <h3 class="slds-section__title">
                        <button aria-controls="offerId" class="slds-button slds-section__title-action">
                            <span onclick="{!c.toggleSection}" data-auraId="colorSection">
                                <lightning:icon iconName="utility:switch"
                                                alternativeText="button icon"
                                                size="x-small"
                                                class="slds-section__title-action-icon slds-button__icon_left"/>
                            </span>
                            <span class="slds-truncate" title="offers">Offer Section</span>
                        </button>
                    </h3>
                    <!-- Section -->
                    
                    <!--Section body-->
                    <table >
                        <tr>
                            
                            <td >
                                <table >
                                    <tr>
                                        <td>
                                            
                                            <div class="slds-section__content" id="offerId">  
                                                <div class="slds-m-around_small slds-grid slds-gutters">
                                                    <div class="slds-grid slds-grid_vertical">
                                                        
                                                        <div class="slds-col">  
                                                            <span>
                                                                <lightning:select aura:id="Trades"   name="TradeLine" label="TradeLines" >
                                                                    <option value="">--None--</option>
                                                                    <aura:iteration items="{!v.tradelinesList}" var="tr" indexVar="key">
                                                                        
                                                                        <option text="{!tr.value}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </span>
                                                        </div>
                                                        
                                                        <div class="slds-col">
                                                            <span>
                                                                <lightning:select aura:id="Picklist"   name="Filter by Offers" label="Filter by Offers" >
                                                                    <option value="">--None--</option>
                                                                    <aura:iteration items="{!v.ofMap}" var="pg" indexVar="key">
                                                                        
                                                                        <option text="{!pg.value}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </span>
                                                        </div>
                                                        
                                                        <div class="slds-col">
                                                            <span>
                                                                <lightning:input label="Offer Amount"  value="{!v.ofFields.nu_dse__Offer_Amount__c}" />                                        
                                                            </span>
                                                        </div>
                                                        
                                                        <div class="slds-col">
                                                            <span>
                                                                <lightning:input label="# of Payments"    value="{!v.ofFields.nu_dse__Number_of_Payments__c}" />                                        
                                                            </span>
                                                        </div>
                                                        
                                                        <div class="slds-col">
                                                            <span>
                                                                <lightning:input type ="Date" label="First Payment Date"  value="{!v.ofFields.nu_dse__First_Payment_Date__c}" />                                        
                                                            </span>
                                                        </div>
                                                        
                                                        <div class="slds-col">
                                                            <span>
                                                                <lightning:input type ="Date" label="Payment Re Occurring Day"  value="{!v.ofFields.nu_dse__Payment_Re_Occuring_Day__c}" />
                                                            </span>
                                                        </div>
                                                        
                                                        <div class="slds-col"> 
                                                            <span>   
                                                                <lightning:select aura:id="pMethod"   name=" Payment Method" label=" Payment Method">
                                                                    
                                                                    <option value="">--None--</option>
                                                                    <aura:iteration items="{!v.picklistValues}" var="item" >
                                                                        <option value="{!item}" selected="{!item==v.picklistValues}">{!item}</option>                                                       
                                                                    </aura:iteration>
                                                                    
                                                                </lightning:select>   
                                                            </span>
                                                        </div>  
                                                        
                                                        
                                                        <div class="slds-col"> 
                                                            <div class="slds-section__content" id="offerId">  
                                                                <lightning:layoutItem size="2">
                                                                    <lightning:button variant="success" class="slds-size_medium" label="Simulate" onclick="{!c.getPays}" />
                                                                </lightning:layoutItem>
                                                            </div>               
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            
                                            
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            
                            <td>
                                <aura:if isTrue="{!v.boolean}">
                                    <div class="slds-section__content" id="offerId" >
                                        <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-border_left slds-border_right"  >
                                            
                                            <thead>
                                                <tr class="slds-text-title_caps">
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Name">NAME</div>                                
                                                    </th>
                                                    
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Type">TYPE</div>           
                                                        
                                                    </th>
                                                    
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Transaction Status">STATUS</div>         
                                                        
                                                    </th>
                                                    
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Amount">CREDITOR</div>            
                                                        
                                                    </th>
                                                    
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Scheduled Date">SCHEDULED DATE</div> 
                                                    </th>
                                                    
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Amount">AMOUNT</div>            
                                                        
                                                    </th>
                                                    
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Amount">TOTAL FEE</div>            
                                                        
                                                    </th>
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Amount">AMOUNT TO SAVINGS</div>            
                                                        
                                                    </th>
                                                    <th scope="col">
                                                        <div class="slds-truncate" title="Amount">BALANCE</div>            
                                                        
                                                    </th>
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                </tr>
                                            </thead>
                                            
                                            
                                            
                                            <tbody>
                                                <aura:iteration items="{!v.myObjects}" var="item">
                                                    
                                                    <tr>                                            
                                                        <td> {!item.paymRecord.Name}</td>
                                                        <td> {!item.paymRecord.nu_dse__Payment_Type__c}</td>
                                                        <td> {!item.paymRecord.nu_dse__Transaction_Status__c}</td> 
                                                        <td> {!item.creditor}</td> 
                                                        <td> {!item.paymRecord.nu_dse__Schedule_Date__c}</td>
                                                        <td> {!item.paymRecord.nu_dse__Amount__c}</td>
                                                        <td> {!item.paymRecord.nu_dse__Processor_Fee__c}</td>
                                                        <td>500</td>
                                                        <td>100</td>
                                                    </tr>
                                                    
                                                    
                                                </aura:iteration>
                                            </tbody>                        
                                            
                                        </table>
                                    </div>
                                </aura:if>
                                
                            </td>
                        </tr>   
                    </table>        
                </div> 
                
                <!--section body--> 
                
                
                <!-- <c:SimulateButton/> -->
                
            </aura:component>